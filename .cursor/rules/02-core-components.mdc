---
description:
globs:
alwaysApply: false
---
# CarbonSense Core Components

This rule details the main components that power the CarbonSense system.

## Agent Architecture

The system uses different agent implementations:

- [src/carbonsense/core/crew_agent.py](mdc:src/carbonsense/core/crew_agent.py) - Multi-agent orchestration using CrewAI
- [src/carbonsense/core/carbon_agent.py](mdc:src/carbonsense/core/carbon_agent.py) - Single RAG agent implementation
- [src/carbonsense/core/carbon_flow.py](mdc:src/carbonsense/core/carbon_flow.py) - Query processing pipeline

## YAML Configuration

The system is highly configurable with YAML files:

- [src/carbonsense/core/config/agents.yaml](mdc:src/carbonsense/core/config/agents.yaml) - Agent definitions and roles
- [src/carbonsense/core/config/tasks.yaml](mdc:src/carbonsense/core/config/tasks.yaml) - Task workflows and execution paths
- [src/carbonsense/core/config/ai_parameters.yaml](mdc:src/carbonsense/core/config/ai_parameters.yaml) - AI model parameters
- [src/carbonsense/core/yaml_manager.py](mdc:src/carbonsense/core/yaml_manager.py) - YAML configuration manager

## External Services

The system integrates with various IBM services:

- [src/carbonsense/services/watsonx_service.py](mdc:src/carbonsense/services/watsonx_service.py) - IBM watsonx.ai integration
- [src/carbonsense/services/milvus_service.py](mdc:src/carbonsense/services/milvus_service.py) - Milvus vector database
- [src/carbonsense/services/discovery_service.py](mdc:src/carbonsense/services/discovery_service.py) - Watson Discovery for web search
- [src/carbonsense/services/cos_service.py](mdc:src/carbonsense/services/cos_service.py) - IBM Cloud Object Storage

## Data Processing Pipeline

- [src/carbonsense/core/embedding_generator.py](mdc:src/carbonsense/core/embedding_generator.py) - Generates embeddings for vector search
- [src/carbonsense/services/embedding_storage_service.py](mdc:src/carbonsense/services/embedding_storage_service.py) - Manages embedding storage
